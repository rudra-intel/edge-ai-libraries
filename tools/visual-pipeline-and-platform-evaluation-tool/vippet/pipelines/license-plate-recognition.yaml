name: License Plate Recognition
definition: >
  The Simple Video Structurization (D-T-C) pipeline is a versatile, use case-agnostic solution that supports
  license plate recognition, vehicle detection with attribute classification, and other object detection and
  classification tasks, adaptable based on the selected model.
tags:
  - Smart Cities
  - Transportation
thumbnail: images/license-plate-recognition.png
variants:
  - name: CPU
    pipeline_description: >-
      filesrc location=/videos/input/license-plate-detection.mp4 !
      decodebin3 !
      gvafpscounter starting-frame=500 !
      gvadetect
        model=/models/output/public/yolov8_license_plate_detector/FP32/yolov8_license_plate_detector.xml
        model-instance-id=detect0
        device=CPU
        pre-process-backend=opencv
        batch-size=0
        inference-interval=3
        nireq=0 !
      queue !
      gvatrack tracking-type=short-term-imageless !
      queue !
      gvaclassify
        model=/models/output/public/ch_PP-OCRv4_rec_infer/FP32/ch_PP-OCRv4_rec_infer.xml
        model-instance-id=classify0
        device=CPU
        pre-process-backend=opencv
        batch-size=0
        inference-interval=3
        nireq=0
        inference-region=roi-list
        reclassify-interval=1 !
      queue !
      gvawatermark !
      gvametaconvert format=json json-indent=4 !
      gvametapublish method=file file-path=/dev/null !
      fakesink name=default_output_sink
  - name: GPU
    pipeline_description: >-
      filesrc location=/videos/input/license-plate-detection.mp4 !
      decodebin3 !
      gvafpscounter starting-frame=500 !
      gvadetect
        model=/models/output/public/yolov8_license_plate_detector/FP32/yolov8_license_plate_detector.xml
        model-instance-id=detect0
        pre-process-backend=va-surface-sharing
        device=GPU
        batch-size=0
        inference-interval=3
        nireq=0 !
      queue !
      gvatrack tracking-type=short-term-imageless !
      queue !
      gvaclassify
        model=/models/output/public/ch_PP-OCRv4_rec_infer/FP32/ch_PP-OCRv4_rec_infer.xml
        model-instance-id=classify0
        pre-process-backend=va-surface-sharing
        device=GPU
        batch-size=0
        inference-interval=3
        nireq=0
        inference-region=roi-list
        reclassify-interval=1 !
      queue !
      gvawatermark !
      gvametaconvert format=json json-indent=4 !
      gvametapublish method=file file-path=/dev/null !
      fakesink name=default_output_sink
  - name: GPU_NPU
    pipeline_description: >-
      filesrc location=/videos/input/license-plate-detection.mp4 !
      decodebin3 !
      gvafpscounter starting-frame=500 !
      gvadetect
        model=/models/output/public/yolov8_license_plate_detector/FP32/yolov8_license_plate_detector.xml
        model-instance-id=detect0-gpu-npu
        pre-process-backend=va-surface-sharing
        device=GPU
        batch-size=0
        inference-interval=3
        nireq=0 !
      queue !
      gvatrack tracking-type=short-term-imageless !
      queue !
      gvaclassify
        model=/models/output/public/ch_PP-OCRv4_rec_infer/FP32/ch_PP-OCRv4_rec_infer.xml
        model-instance-id=classify0-gpu-npu
        pre-process-backend=va
        device=NPU
        batch-size=0
        inference-interval=3
        nireq=0
        inference-region=roi-list
        reclassify-interval=1 !
      queue !
      gvawatermark !
      gvametaconvert format=json json-indent=4 !
      gvametapublish method=file file-path=/dev/null !
      fakesink name=default_output_sink
