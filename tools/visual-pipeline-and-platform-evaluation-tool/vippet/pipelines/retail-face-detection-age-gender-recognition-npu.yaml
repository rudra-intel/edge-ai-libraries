name: Retail - Face Detection and Age Gender Recognition [NPU]
version: 1
definition: >
  The Retail Pipeline using face-detection-retail-0004 for object detection and age-gender-recognition-retail-0013 for age and gender prediction is designed for retail analytics applications.
  It detects faces, predicts age groups and gender, making it suitable for customer demographics analysis and other retail use cases.
pipeline_description: "filesrc location=/videos/input/age_prediction.mp4 ! qtdemux ! h264parse ! vah264dec ! vapostproc ! video/x-raw(memory:VAMemory) ! queue ! gvadetect batch-size=1 model-instance-id=facemodel-npu model=/models/output/omz/face-detection-retail-0004/FP16/face-detection-retail-0004.xml model-proc=/models/output/omz/face-detection-retail-0004/face-detection-retail-0004.json inference-interval=3 scale-method=fast inference-region=full-frame threshold=0.5 device=NPU pre-process-backend=va-surface-sharing nireq=4 ! queue ! gvatrack tracking-type=zero-term-imageless ! queue ! gvaclassify batch-size=1 model-instance-id=age_classifier-npu model=/models/output/omz/age-gender-recognition-retail-0013/FP16/age-gender-recognition-retail-0013.xml model-proc=/models/output/omz/age-gender-recognition-retail-0013/age-gender-recognition-retail-0013.json device=NPU inference-region=roi-list object-class=face reclassify-interval=1 ! queue ! gvafpscounter starting-frame=100 ! gvawatermark ! gvametaconvert ! queue ! gvametapublish file-format=json-lines file-path=/dev/null ! fakesink sync=false async=false "
